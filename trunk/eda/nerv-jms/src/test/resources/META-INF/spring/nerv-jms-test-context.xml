<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd 
            http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">
   
    <bean name="nerv" class="com.softwareag.eda.nerv.NERV" factory-method="instance" />
    <bean name="nervConnection" factory-bean="nerv" factory-method="getDefaultConnection" />

	<bean name="jmsProviderUrl" class="java.lang.String">
		<constructor-arg index="0" value="nsp://localhost:9000" />
	</bean>

	<bean name="type" class="java.lang.String">
		<constructor-arg index="0" value="JmsTest" />
	</bean>

	<bean name="umSupport" class="com.softwareag.eda.nerv.jms.support.UniversalMessagingSupport">
		<constructor-arg name="providerUrl" ref="jmsProviderUrl" />
	</bean>

	<bean name="jmsComponentCreator" class="com.softwareag.eda.nerv.jms.JmsComponentCreator">
		<constructor-arg name="connectionFactoryProvider" ref="umSupport" />
		<constructor-arg name="destinationResolver" ref="umSupport" />
	</bean>

	<bean name="jmsComponent" factory-bean="jmsComponentCreator" factory-method="createComponent">
		<constructor-arg index="0" value="nsp://localhost:9000" />
		<constructor-arg index="1">
			<null />
		</constructor-arg>
	</bean>

	<bean name="jmsConsumer" class="com.softwareag.eda.nerv.consumer.BasicConsumer" />

	<bean name="jmsSubscription" class="com.softwareag.eda.nerv.subscribe.subscription.DefaultSubscription">
		<constructor-arg name="channel" ref="type" />
		<constructor-arg name="consumer" ref="jmsConsumer" />
	</bean>

</beans>